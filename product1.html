<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞—Ä–∫–µ—Ç</title>
<style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
        }
        header {
            background-color: #4CAF50;
            color: white;
            padding: 1rem;
            text-align: center;
        }
		
        .product {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 16px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .product img {
            max-width: 100%;
            border-radius: 8px;
        }
        .product h3 {
            margin: 10px 0;
        }
        .buttons {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-top: 10px;
        }
        .buttons button {
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px;
            cursor: pointer;
            flex: 1;
            margin: 5px;
        }
        .buttons button:hover {
            background-color: #45a049;
        }
        nav {
            background-color: #333;
            padding: 10px;
            display: flex;
            justify-content: center;
        }
        a {
            text-decoration: none;
            color: white;
            font-size: 18px;
            padding: 5px 10px;
            transition: 0.3s;
        }
        a:hover {
            background-color: #555;
            border-radius: 5px;
        }
        #cart {
            position: fixed;
            top: 10px;
            right: 10px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            max-height: 60px;
            transition: max-height 0.3s ease-in-out;
            width: 90%;
            max-width: 300px;
        }
        #cart:hover {
            max-height: 300px;
            overflow: auto;
        }
        @media (max-width: 600px) {
            .buttons {
                flex-direction: column;
            }
            .buttons button {
                flex: none;
                width: 100%;
            }
            nav ul {
                flex-direction: column;
                align-items: center;
            }
			
        }
		.features {
            text-align: left;
            margin-top: 20px;
        }
		
    </style>
	 <header>
        <h1>–û–Ω–ª–∞–π–Ω-–ú–∞—Ä–∫–µ—Ç</h1>
        <nav>
            <ul>
                <li><a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a></li>
                <li><a href="market_telegram2.html">–¢–æ–≤–∞—Ä–∏</a></li>
                <li><a href="market_telegram3.html">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
            </ul>
        </nav>
    </header>
	  
	  <div id="cart">
        <h3>–ö–æ—Ä–∑–∏–Ω–∞</h3>
        <ul id="cart-items"></ul>
        <p><strong>–ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å:</strong> $<span id="total-price">0</span></p>
        <button id="clear-cart" onclick="clearCart()">–û—á–∏—Å—Ç–∏—Ç–∏ –∫–æ—Ä–∑–∏–Ω—É</button>
		 <button onclick="showOrderForm()">–ó–∞–º–æ–≤–∏—Ç–∏</button>
    </div>
</head>
<body>
    <div class="container">
        <div class="product">
            <img src="phone.jpg" alt="Product 1">
            <h3>–¢–æ–≤–∞—Ä 1</h3>
			 <p>–¶—ñ–Ω–∞: $10</p>
			 <ul class="features">
            <li>–î–∏—Å–ø–ª–µ–π: 6.1" Super Retina XDR</li>
            <li>–ü—Ä–æ—Ü–µ—Å–æ—Ä: Apple A17 Pro</li>
            <li>–ö–∞–º–µ—Ä–∞: 48 –ú–ü (–æ—Å–Ω–æ–≤–Ω–∞) + 12 –ú–ü (—É–ª—å—Ç—Ä–∞—à–∏—Ä–æ–∫–æ–∫—É—Ç–Ω–∞)</li>
            <li>–ê–∫—É–º—É–ª—è—Ç–æ—Ä: –î–æ 23 –≥–æ–¥–∏–Ω –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ–¥–µ–æ</li>
            <li>–û–°: iOS 17</li>
        </ul>
            <div class="buttons">
                <button onclick="addToCart('–¢–æ–≤–∞—Ä 1', 10)">–î–æ–¥–∞—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
            </div>
        </div>
    </div>

     <script>
		const botToken = '7743457019:AAFL5htVsr1xdcTOb46ky8oEbayPitqt0L0';  // –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à —Ñ–∞–∫—Ç–∏—á–Ω–∏–π —Ç–æ–∫–µ–Ω
		const chatId = '895236924';  // –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à chat_id
	
		// –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –∫–æ—Ä–∑–∏–Ω—É –∑ localStorage –∞–±–æ —Å—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤—É
		let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

		// –î–æ–¥–∞—î–º–æ —Ç–æ–≤–∞—Ä –¥–æ –∫–æ—Ä–∑–∏–Ω–∏
		function addToCart(productName, productPrice) {
			cartItems.push({ name: productName, price: productPrice });
			saveCart(); // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –∑–º—ñ–Ω–∏ –≤ localStorage
			updateCart();
		}

		// –û–Ω–æ–≤–ª—é—î–º–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–æ—Ä–∑–∏–Ω–∏
		function updateCart() {
			const cartList = document.getElementById('cart-items');
			const totalPriceEl = document.getElementById('total-price');

			cartList.innerHTML = '';
			let totalPrice = 0;

			cartItems.forEach((item, index) => {
				const listItem = document.createElement('li');
				listItem.textContent = `${item.name} - $${item.price}`;

				const removeButton = document.createElement('button');
				removeButton.textContent = '–í–∏–¥–∞–ª–∏—Ç–∏';
				removeButton.style.marginLeft = '10px';
				removeButton.onclick = () => {
					removeFromCart(index);
				};

				listItem.appendChild(removeButton);
				cartList.appendChild(listItem);

				totalPrice += item.price;
			});

			totalPriceEl.textContent = totalPrice;
		}

		// –û—á–∏—â—É—î–º–æ –∫–æ—Ä–∑–∏–Ω—É
		function clearCart() {
			cartItems = [];
			saveCart(); // –û—á–∏—â–∞—î–º–æ localStorage
			updateCart();
		}

		// –í–∏–¥–∞–ª—è—î–º–æ —Ç–æ–≤–∞—Ä –∑ –∫–æ—Ä–∑–∏–Ω–∏
		function removeFromCart(index) {
			cartItems.splice(index, 1);
			saveCart(); // –û–Ω–æ–≤–ª—é—î–º–æ localStorage
			updateCart();
		}

		// –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –∫–æ—Ä–∑–∏–Ω—É –≤ localStorage
		function saveCart() {
			localStorage.setItem('cartItems', JSON.stringify(cartItems));
		}

		// –í—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ/—Ö–æ–≤–∞—î–º–æ –¥–µ—Ç–∞–ª—ñ —Ç–æ–≤–∞—Ä—É
		function toggleDetails(button) {
			const details = button.parentElement.nextElementSibling;
			details.style.display = details.style.display === 'none' || details.style.display === '' ? 'block' : 'none';
		}

		// –ü–æ–∫–∞–∑—É—î–º–æ —Ñ–æ—Ä–º—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
		function showOrderForm() {
			if (cartItems.length > 0) {
				document.getElementById('order-form').style.display = 'block';
			} else {
				alert('–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞! –î–æ–¥–∞–π—Ç–µ —Ç–æ–≤–∞—Ä–∏ –¥–ª—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.');
			}
		}

		// –ü—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –æ–Ω–æ–≤–ª—é—î–º–æ –∫–æ—Ä–∑–∏–Ω—É
		document.addEventListener('DOMContentLoaded', updateCart);
		// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤ Telegram
    function sendOrderToTelegram(event) {
        event.preventDefault(); // –ó—É–ø–∏–Ω—è—î–º–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É –≤—ñ–¥–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º–∏

        // –û—Ç—Ä–∏–º—É—î–º–æ –¥–∞–Ω—ñ —Ñ–æ—Ä–º–∏
        const name = document.getElementById('name').value;
        const address = document.getElementById('address').value;
        const phone = document.getElementById('phone').value;

        if (!name || !address || !phone) {
            alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è —Ñ–æ—Ä–º–∏!');
            return;
        }

        // –§–æ—Ä–º—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –∫–æ—Ä–∑–∏–Ω–∏
        let orderDetails = `üõí *–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è*\n\nüë§ *–Ü–º'—è:* ${name}\nüìç *–ê–¥—Ä–µ—Å–∞:* ${address}\nüìû *–¢–µ–ª–µ—Ñ–æ–Ω:* ${phone}\n\nüõçÔ∏è *–¢–æ–≤–∞—Ä–∏:* \n`;

        let totalPrice = 0;
        cartItems.forEach(item => {
            orderDetails += `- ${item.name}: $${item.price}\n`;
            totalPrice += item.price;
        });

        orderDetails += `\nüí∞ *–ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å:* $${totalPrice}`;

        // –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è —É Telegram
        const message = encodeURIComponent(orderDetails);
        const url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${message}&parse_mode=Markdown`;

        fetch(url)
            .then(response => response.json())
            .then(data => {
                alert('–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!');
                clearCart(); // –û—á–∏—â–∞—î–º–æ –∫–æ—Ä–∑–∏–Ω—É –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
                document.getElementById('order-form').style.display = 'none'; // –•–æ–≤–∞—î–º–æ —Ñ–æ—Ä–º—É
            })
            .catch(error => {
                alert('–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.');
                console.error(error);
            });
    }

    // –î–æ–¥–∞—î–º–æ —Å–ª—É—Ö–∞—á–∞ –ø–æ–¥—ñ–π –Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º–∏
    document.addEventListener('DOMContentLoaded', () => {
        updateCart();
        document.querySelector('#order-form form').addEventListener('submit', sendOrderToTelegram);
    });

    </script>
</body>
</html>

